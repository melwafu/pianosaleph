import{j as e,r as i,m as F}from"./app-l6ZLxY85.js";import{A as B}from"./AdminLayout-DAklCoZc.js";import{m as T}from"./Helper-CwtbQ7Sp.js";import{S as L}from"./react-select.esm-DbcrQwcp.js";import{T as M,P as A}from"./Pagination-BLv0FzJP.js";import"./Dropdown-bcQyP71h.js";import"./transition-czp__HpS.js";import"./use-server-handoff-complete-v4NkrL3O.js";import"./index-Bpz-ctME.js";import"./floating-ui.dom-80UF8ZUd.js";function O(n,u){var f;const d=T("crud-modal"),[h,m]=i.useState(!1),[p,y]=i.useState(n),[_,g]=i.useState(null),[b,o]=i.useState({show:!1,type:"",message:""}),{data:s,setData:l,post:x,errors:a,processing:w}=F({id:0,name:"",description:"",price:null,product_category_id:null,product_category:null,image:null,image_2:null,image_3:null,image_4:null,image_5:null});i.useEffect(()=>{h&&(y(n),m(!1))},[h]),i.useEffect(()=>{u.unshift({value:null,label:"Select..."})},[]);function c(){l({id:0,name:"",description:"",price:null,product_category_id:null,product_category:null,image:null,image_2:null,image_3:null,image_4:null,image_5:null}),g({value:null,label:"Select..."});let r=document.getElementById("file_input"),t=document.getElementById("file_input_2"),k=document.getElementById("file_input_3"),j=document.getElementById("file_input_4"),v=document.getElementById("file_input_5");r!==null&&(r.value=null),t!==null&&(t.value=null),k!==null&&(k.value=null),j!==null&&(j.value=null),v!==null&&(v.value=null)}function N(r){r.preventDefault(),x("/products/search",{preserveScroll:!0,resetOnSuccess:!1,onSuccess:t=>{t.props.flash.data!==null&&y(t.props.flash.data)}})}function S(r){r.preventDefault(),x("/products",{preserveScroll:!0,resetOnSuccess:!1,onSuccess:t=>{t.props.flash.success!==null?(d.hide(),o({show:!0,type:"success",message:t.props.flash.success}),m(!0),c()):t.props.flash.error!==null&&o({show:!0,type:"error",message:t.props.flash.error})}})}function C(r){r.preventDefault(),x("products/customUpdate",{preserveScroll:!0,resetOnSuccess:!1,onSuccess:t=>{t.props.flash.succes!==null?(d.hide(),o({show:!0,type:"success",message:t.props.flash.success}),m(!0),c()):t.props.flash.error!==null&&o({show:!0,type:"error",message:t.props.flash.error})}})}function I(){c(),d.show()}function P(){c(),d.hide()}function D(r){c(),l(t=>({...t,id:r.id,name:r.name,description:r.description,price:r.price,product_category_id:r.product_category_id,product_category:r.product_category,image_path:r.image})),g({value:r.product_category_id,label:r.product_category}),d.show()}function E(r){l(t=>({...t,product_category_id:r.value,product_category:r.label})),g(r)}return e.jsxs(e.Fragment,{children:[b.show&&e.jsx(M,{toast:b,setToast:o}),e.jsxs("div",{className:"container",children:[e.jsxs("button",{className:"block inline-flex text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-md text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button",onClick:()=>I(),children:[e.jsx("svg",{className:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add"]}),e.jsx("div",{id:"crud-modal",tabIndex:"-1",className:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full",children:e.jsx("div",{className:"relative p-4 w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.id>0?"Edit Product":"Create New Product"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>P(),children:[e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("form",{id:"form",className:"p-4 md:p-5",onSubmit:s.id>0?C:S,encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid gap-4 mb-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsxs("div",{className:"px-1 py-1",children:[e.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Name"}),e.jsx("input",{type:"text",name:"name",id:"name",className:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Type product name",value:s.name,onChange:r=>l("name",r.target.value)}),a.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a.name})]}),e.jsxs("div",{className:"px-1 py-1",children:[e.jsx("label",{htmlFor:"price",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Price"}),e.jsx("input",{type:"number",name:"price",id:"price",className:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"â‚±2999",value:s.price!==null?s.price:"",onChange:r=>l("price",r.target.value)}),a.price&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a.price})]}),e.jsxs("div",{className:"px-1 py-1",children:[e.jsx("label",{htmlFor:"category",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Category"}),e.jsx(L,{value:_,onChange:r=>E(r),options:u}),a.product_category_id&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:"The category field is required."})]}),e.jsxs("div",{className:"px-1 py-1",children:[e.jsx("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Product Description"}),e.jsx("textarea",{id:"description",rows:"4",className:"block p-2.5 w-full text-sm text-gray-900 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write product description here",value:s.description!==null?s.description:"",onChange:r=>l("description",r.target.value)})]})]}),e.jsxs("div",{className:"col-span-1 px-1 py-1",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",htmlFor:"file_input",children:"Upload Image"}),e.jsxs("div",{children:[e.jsx("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help",id:"file_input",type:"file",onChange:r=>l("image",r.target.files[0])}),a.image&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a.image})]}),e.jsxs("div",{children:[e.jsx("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help_2",id:"file_input_2",type:"file",onChange:r=>l("image_2",r.target.files[0])}),a.image_2&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a.image_2})]}),e.jsxs("div",{children:[e.jsx("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help_3",id:"file_input_3",type:"file",onChange:r=>l("image_3",r.target.files[0])}),a.image_3&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a.image_3})]}),e.jsxs("div",{children:[e.jsx("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help_4",id:"file_input_4",type:"file",onChange:r=>l("image_4",r.target.files[0])}),a.image_4&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a.image_4})]}),e.jsxs("div",{children:[e.jsx("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help_5",id:"file_input_5",type:"file",onChange:r=>l("image_5",r.target.files[0])}),a.image_5&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a.image_5})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help",children:"SVG, PNG, JPG or GIF."}),s.id>0&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Primary Image"}),e.jsx("img",{style:{height:"215px",width:"285px"},width:300,className:"max-w-lg mx-auto",src:s.image_path})]})]})]}),e.jsx("button",{type:"submit",className:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",disabled:w,children:s.id>0?"Update":e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})," Add"]})})]})]})})})]}),e.jsxs("div",{className:"container mt-5",children:[e.jsxs("div",{className:"pb-4",children:[e.jsx("label",{htmlFor:"table-search",className:"sr-only",children:"Search"}),e.jsx("div",{className:"relative mt-1",children:e.jsxs("form",{onSubmit:N,children:[e.jsx("div",{className:"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none",children:e.jsx("button",{type:"submit",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})})}),e.jsx("input",{type:"text",id:"table-search",className:"block pt-2 ps-10 text-sm text-gray-900 bg-white border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search for items",onChange:r=>l("name",r.target.value)})]})})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"price"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date Created"})]})}),e.jsx("tbody",{children:p.data&&((f=p.data)==null?void 0:f.map(r=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"w-1/2",children:e.jsx("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",onClick:()=>D(r),children:"Edit"})})})}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:r.name}),e.jsx("td",{className:"px-6 py-4",children:r.description}),e.jsx("td",{className:"px-6 py-4",children:Number(r.price).toLocaleString("en-US",{style:"currency",currency:"PHP"})}),e.jsx("td",{className:"px-6 py-4",children:r.product_category}),e.jsx("td",{className:"px-6 py-4",children:new Date(r.created_at).toLocaleDateString("en-US")})]},r.id)))})]})}),e.jsx(A,{links:p.links})]})]})}function $({products:n,category:u}){const d=O(n,u);return e.jsx(B,{head:"Products",children:d})}export{$ as default};
